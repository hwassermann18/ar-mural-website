
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ar_mural.com/tool_scripts/">
      
      
        <link rel="prev" href="../controls/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Tool Scripts - WINLAB AR Mural</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Red Hat Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#general-script-layout" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="WINLAB AR Mural" class="md-header__button md-logo" aria-label="WINLAB AR Mural" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2s-42.9-17.3-61.5-3.3L262.4 187.2c-24 18-38.2 46.1-38.4 76.1zm-19.6 25.4-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9.2 7.8.6 11.6 1.8 17.5-10.2 36.4-27.8 36.4H64c-17.7 0-32 14.3-32 32s14.3 32 32 32h144c61.9 0 112-50.1 112-112 0-2.5-.1-5-.2-7.5z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WINLAB AR Mural
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tool Scripts
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://gitlab.orbit-lab.org/amithi04/ar-mural-summer-2025.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Gitlab
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../intro/" class="md-tabs__link">
          
  
  
  Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="WINLAB AR Mural" class="md-nav__button md-logo" aria-label="WINLAB AR Mural" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M339.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L568.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2s-42.9-17.3-61.5-3.3L262.4 187.2c-24 18-38.2 46.1-38.4 76.1zm-19.6 25.4-116-104.4C143.9 290.3 96 339.6 96 400c0 3.9.2 7.8.6 11.6 1.8 17.5-10.2 36.4-27.8 36.4H64c-17.7 0-32 14.3-32 32s14.3 32 32 32h144c61.9 0 112-50.1 112-112 0-2.5-.1-5-.2-7.5z"/></svg>

    </a>
    WINLAB AR Mural
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitlab.orbit-lab.org/amithi04/ar-mural-summer-2025.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Gitlab
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tool Scripts
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tool Scripts
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-script-layout" class="md-nav__link">
    <span class="md-ellipsis">
      General Script Layout
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General Script Layout">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-core-variables" class="md-nav__link">
    <span class="md-ellipsis">
      1. Core Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-singleton-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      2. Singleton Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-tool-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      3. Tool Initialization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-activate-and-deactivate" class="md-nav__link">
    <span class="md-ellipsis">
      4. Activate and Deactivate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-starttool" class="md-nav__link">
    <span class="md-ellipsis">
      5. StartTool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-update" class="md-nav__link">
    <span class="md-ellipsis">
      6. Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-stoptool" class="md-nav__link">
    <span class="md-ellipsis">
      7. StopTool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-regenerate" class="md-nav__link">
    <span class="md-ellipsis">
      8. Regenerate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-script-specifics" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Script Specifics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Script Specifics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brush-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Brush Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Line Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Text Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Image Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Object Tool
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-script-layout" class="md-nav__link">
    <span class="md-ellipsis">
      General Script Layout
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General Script Layout">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-core-variables" class="md-nav__link">
    <span class="md-ellipsis">
      1. Core Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-singleton-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      2. Singleton Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-tool-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      3. Tool Initialization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-activate-and-deactivate" class="md-nav__link">
    <span class="md-ellipsis">
      4. Activate and Deactivate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-starttool" class="md-nav__link">
    <span class="md-ellipsis">
      5. StartTool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-update" class="md-nav__link">
    <span class="md-ellipsis">
      6. Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-stoptool" class="md-nav__link">
    <span class="md-ellipsis">
      7. StopTool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-regenerate" class="md-nav__link">
    <span class="md-ellipsis">
      8. Regenerate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-script-specifics" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Script Specifics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Script Specifics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brush-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Brush Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Line Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#text-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Text Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Image Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Object Tool
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Tool Scripts</h1>

<p>This sections describes all the scripts in the "Tools" folder. Each tool enables a different type of interaction in AR. Tools are activated by pinch gestures and share a common interface. If you have any questions that arise and aren't answered in that section, feel free to search the terms of your question in the search tab on the top right to see where they come up, or check out the footnotes at the bottom.</p>
<h2 id="general-script-layout"><strong>General Script Layout</strong></h2>
<p>We'll cover the basic methods and functions present in all these tools first. For our sake we will use <code>BrushTool.cs</code> as our code snippets, which will be slightly different in other tools.</p>
<h3 id="1-core-variables">1. <strong>Core Variables</strong></h3>
<div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">BrushTool</span><span class="w"> </span><span class="n">Instance</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="na">[SerializeField]</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">granularity</span><span class="p">;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">private</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">activated</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">private</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLeftHand</span><span class="p">;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">private</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">distanceLeft</span><span class="p">;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="k">private</span><span class="w"> </span><span class="n">Vector3</span><span class="o">?</span><span class="w"> </span><span class="n">oldPos</span><span class="p">;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Vector3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">meshPoints</span><span class="p">;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="k">public</span><span class="w"> </span><span class="n">Transform</span><span class="w"> </span><span class="n">brushParent</span><span class="p">;</span>
</span></code></pre></div>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Instance</code></td>
<td><code>static BrushTool</code></td>
<td>Singleton reference to the current <code>BrushTool</code> instance for global access.</td>
</tr>
<tr>
<td><code>granularity</code></td>
<td><code>float</code> <em>(Serialized)</em><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></td>
<td>Min distance (in meters) the hand must move before adding a new point; controls stroke smoothness.</td>
</tr>
<tr>
<td><code>activated</code></td>
<td><code>bool</code></td>
<td>Whether the tool is subscribed to hand input events (prevents re-activation).</td>
</tr>
<tr>
<td><code>isLeftHand</code></td>
<td><code>bool</code></td>
<td>Indicates which hand (left/right) is being used for drawing.</td>
</tr>
<tr>
<td><code>distanceLeft</code></td>
<td><code>float</code></td>
<td>How far the hand must move to place the next point, based on <code>granularity</code>.</td>
</tr>
<tr>
<td><code>oldPos</code></td>
<td><code>Vector3?</code><sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></td>
<td>Last position where a point was placed; used to measure distance traveled.</td>
</tr>
<tr>
<td><code>meshPoints</code></td>
<td><code>List&lt;Vector3&gt;</code></td>
<td>List of all recorded 3D points for the current stroke.</td>
</tr>
<tr>
<td><code>brushParent</code></td>
<td><code>Transform</code> <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup></td>
<td>Parent GameObject for all stroke objects; keeps the scene hierarchy organized.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="2-singleton-pattern">2. <strong>Singleton Pattern</strong></h3>
<p>A singleton pattern ensures only one tool instance exists at runtime. This is common in Unity for tools or managers that need global access. </p>
<p><div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">BrushTool</span><span class="w"> </span><span class="n">Instance</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Awake</span><span class="p">()</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p">{</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="c1">// Enforce a singleton state pattern</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Instance</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">        </span><span class="n">Instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="k">else</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">        </span><span class="n">Destroy</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="p">}</span>
</span></code></pre></div>
These lines of code are at the beginning of all the tool scripts and confirm that there is only one instance of the class.</p>
<hr />
<h3 id="3-tool-initialization">3. <strong>Tool Initialization</strong></h3>
<p><div class="language-csharp highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">csharp</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-41">41</a></span>
<span class="normal"><a href="#__codelineno-2-42">42</a></span>
<span class="normal"><a href="#__codelineno-2-43">43</a></span>
<span class="normal"><a href="#__codelineno-2-44">44</a></span>
<span class="normal"><a href="#__codelineno-2-45">45</a></span>
<span class="normal"><a href="#__codelineno-2-46">46</a></span>
<span class="normal"><a href="#__codelineno-2-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enabled</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42"></a><span class="p">{</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43"></a><span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44"></a><span class="p">}</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45"></a>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46"></a><span class="n">brushParent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">GameObject</span><span class="p">(</span><span class="s">&quot;Brush Tool&quot;</span><span class="p">).</span><span class="n">transform</span><span class="p">;</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47"></a><span class="n">brushParent</span><span class="p">.</span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
The code first disables the tool by default. Line 47 creates a new empty GameObject and names it <code>"Brush Tool"</code>. It then stores a reference to its Transform in the variable brushParent. They then set the position for <code>brushParent</code> to (0, 0, 0).</p>
<p>Why do we create a parent object for this? Since the Transform class supports parent-child hierarchy, every time the BrushTool is activated, strokes are created and added as children of a shared parent object named <code>"Brush Tool"</code>. We will show this happening later in the code in the line: <code>obj.transform.SetParent(brushParent);</code>.</p>
<hr />
<h3 id="4-activate-and-deactivate">4. <strong>Activate and Deactivate</strong></h3>
<p>Each tool script includes <code>Activate()</code> and <code>Deactivate()</code> methods to manage input subscription:
<div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Activate</span><span class="p">()</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="p">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">activated</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="n">activated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">OnHandPinched</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">StartTool</span><span class="p">;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">OnHandReleased</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">StopTool</span><span class="p">;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="p">}</span>
</span></code></pre></div>
<div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Deactivate</span><span class="p">()</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">activated</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="n">activated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">OnHandPinched</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">StartTool</span><span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">OnHandReleased</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">StopTool</span><span class="p">;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="c1">// Clean up current stroke if mid-draw</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enabled</span><span class="p">)</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">        </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">        </span><span class="n">oldPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">        </span><span class="n">meshPoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">        </span><span class="n">PreviewManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">StopPreview</span><span class="p">();</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="p">}</span>
</span></code></pre></div>
<code>Activate()</code> connects the tool to gesture events (<code>OnHandPinched</code>, <code>OnHandReleased</code>) via <code>PinchManager</code>, allowing it to respond to hand input. <code>Deactivate()</code> unsubscribes from those events and resets the tool state.</p>
<p>These methods are <strong>not called automatically</strong>. They are triggered by a <strong>manager script</strong> called <code>StateManager</code>, which ensures that only one tool is active at a time.</p>
<hr />
<h3 id="5-starttool">5. <strong>StartTool</strong></h3>
<p><div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">StartTool</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">isLeftHand</span><span class="p">)</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="p">{</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enabled</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">isLeftHand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isLeftHand</span><span class="p">;</span><span class="w"> </span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="n">distanceLeft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">granularity</span><span class="p">;</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="n">Vector3</span><span class="w"> </span><span class="n">startPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isLeftHand</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">LeftPosition</span><span class="w"> </span><span class="p">:</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">                                    </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">RightPosition</span><span class="p">;</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="n">oldPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startPos</span><span class="p">;</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="n">meshPoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Vector3</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">startPos</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">    </span><span class="n">PreviewManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">StartPreview</span><span class="p">(</span><span class="n">startPos</span><span class="p">);</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="p">}</span>
</span></code></pre></div>
<strong>Called when the user pinches</strong> to begin an interaction.</p>
<ul>
<li>Makes the tool active and ready to track hand movement(left or right)</li>
<li>Captures the current hand position as the stroke’s starting point</li>
<li>Initializes distance tracking for smooth point placement</li>
<li>Prepares the meshPoints list that will define the stroke path</li>
<li>Starts the live preview to show what the user is drawing in real time</li>
</ul>
<hr />
<h3 id="6-update">6. <strong>Update</strong></h3>
<p><div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">private</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Update</span><span class="p">()</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="n">Vector3</span><span class="w"> </span><span class="n">newPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isLeftHand</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">LeftPosition</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">PinchManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">RightPosition</span><span class="p">;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">MathUtils</span><span class="p">.</span><span class="n">Vector3Equals</span><span class="p">(</span><span class="n">newPos</span><span class="p">,</span><span class="w"> </span><span class="n">oldPos</span><span class="p">.</span><span class="n">Value</span><span class="p">))</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">        </span><span class="n">PreviewManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">UpdatePreview</span><span class="p">(</span><span class="n">newPos</span><span class="p">);</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">distanceTraveled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">newPos</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">oldPos</span><span class="p">.</span><span class="n">Value</span><span class="p">).</span><span class="n">magnitude</span><span class="p">;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">distanceTraveled</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">distanceLeft</span><span class="p">)</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">        </span><span class="p">...</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">        </span><span class="n">Vector3</span><span class="w"> </span><span class="n">meshPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MathUtils</span><span class="p">.</span><span class="n">TravelAcross</span><span class="p">(</span><span class="n">oldPos</span><span class="p">.</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="n">newPos</span><span class="p">,</span><span class="w"> </span><span class="n">totalDistanceTracked</span><span class="p">);</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">        </span><span class="n">meshPoints</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">meshPoint</span><span class="p">);</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">        </span><span class="n">PreviewManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">AddPreview</span><span class="p">(</span><span class="n">meshPoint</span><span class="p">);</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="k">else</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">        </span><span class="n">distanceLeft</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">distanceTraveled</span><span class="p">;</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="n">oldPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newPos</span><span class="p">;</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="p">}</span>
</span></code></pre></div>
<strong>Runs every frame</strong> while the tool is active.</p>
<ul>
<li>Continuously tracks hand movement.</li>
<li>Updates the preview visuals based on new hand position.</li>
<li>Some tools (like BrushTool) dynamically add points to a list; others (like ShapeTool or TextTool) update size or orientation in real time.</li>
</ul>
<p>You may notice that no other method calls update(). This gets to the core of how Unity works behind the scenes. Unity automatically calls <code>Update()</code> every frame on any <code>MonoBehaviour</code><sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup> script that is both active and <sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup>. In <code>BrushTool</code>, <code>Update()</code> begins running when <code>StartTool()</code> sets <code>enabled = true</code>, and stops when <code>StopTool()</code> sets it to <code>false</code>.</p>
<hr />
<h3 id="7-stoptool">7. <strong>StopTool</strong></h3>
<p><div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">public</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">StopTool</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">isLeftHand</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="p">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">enabled</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">isLeftHand</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">isLeftHand</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">Vector3</span><span class="w"> </span><span class="n">endPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">oldPos</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="n">meshPoints</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">endPos</span><span class="p">);</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">    </span><span class="n">GameObject</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BrushRenderer</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">GenerateMesh</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="n">meshPoints</span><span class="p">);</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">obj</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">        </span><span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Brush&quot;</span><span class="p">;</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">        </span><span class="n">obj</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">SetParent</span><span class="p">(</span><span class="n">brushParent</span><span class="p">);</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">        </span><span class="n">obj</span><span class="p">.</span><span class="n">layer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">        </span><span class="n">MeshOutline</span><span class="w"> </span><span class="n">outline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="n">AddComponent</span><span class="o">&lt;</span><span class="n">MeshOutline</span><span class="o">&gt;</span><span class="p">();</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">        </span><span class="n">outline</span><span class="p">.</span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">        </span><span class="p">...</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">    </span><span class="n">PreviewManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">StopPreview</span><span class="p">();</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">    </span><span class="n">oldPos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">    </span><span class="n">meshPoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ClientManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">connected</span><span class="p">)</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">        </span><span class="k">await</span><span class="w"> </span><span class="n">ClientManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">SendCommand</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ClientManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">connected</span><span class="p">)</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">        </span><span class="n">Destroy</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="p">}</span>
</span></code></pre></div>
<strong>Called when the user releases the pinch</strong> to finalize the interaction.</p>
<ul>
<li>Ends the preview and commits the final object to the scene.</li>
<li>Generates the actual mesh or 3D object (e.g., stroke, shape, text).</li>
<li>Applies metadata like color, material, and layer.</li>
<li>Sends the result to the server via <code>ClientManager</code> if networking is enabled.</li>
<li>Cleans up internal state and deactivates the tool.</li>
</ul>
<hr />
<h3 id="8-regenerate">8. <strong>Regenerate</strong></h3>
<p><div class="language-csharp highlight"><span class="filename">csharp</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">public</span><span class="w"> </span><span class="n">GameObject</span><span class="w"> </span><span class="nf">Regenerate</span><span class="p">(</span><span class="n">BrushContainer</span><span class="w"> </span><span class="n">c</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="n">GameObject</span><span class="w"> </span><span class="n">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BrushRenderer</span><span class="p">.</span><span class="n">Instance</span><span class="p">.</span><span class="n">GenerateMesh</span><span class="p">(...);</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">newObj</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="n">newObj</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">SetParent</span><span class="p">(</span><span class="n">brushParent</span><span class="p">);</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">        </span><span class="n">newObj</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Brush&quot;</span><span class="p">;</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">        </span><span class="p">...</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">newObj</span><span class="p">;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="p">}</span>
</span></code></pre></div>
<strong>Used to recreate a saved object</strong> from serialized data.
Each tool includes a <code>Regenerate()</code> method that rebuilds a previously created object from its saved data (like a <code>BrushContainer</code>, <code>LineContainer</code>, etc.).</p>
<p>This method is used to:</p>
<ul>
<li>Reconstruct objects when loading a scene</li>
<li>Display objects sent over the network from other users</li>
<li>Recreate objects during undo/redo</li>
<li>Maintain visual and structural consistency between sessions</li>
</ul>
<p>It creates a new GameObject, configures it based on saved metadata (e.g. mesh shape, color, size), and adds necessary components (like outlines or colliders). This method will become more relevant when we begin to look at how we are saving data and running a server. </p>
<hr />
<h2 id="tool-script-specifics"><strong>Tool Script Specifics</strong></h2>
<p>This section lists relevant implementation notes specific to each tool file.</p>
<hr />
<h3 id="brush-tool"><strong>Brush Tool</strong></h3>
<p>BrushTool enables freeform 3D drawing using continuous hand movement. It generates a smoothed spline mesh based on tracked hand positions.</p>
<p><strong>Key behaviors and implementation details:</strong></p>
<ul>
<li><code>granularity</code> controls how often new points are added. Lower values result in smoother strokes but impact performance and network bandwidth.</li>
<li>Points are collected and stored in <code>meshPoints</code> in <code>Update()</code>, and only added when the user moves beyond <code>distanceLeft</code>.</li>
<li>When a stroke is finalized in <code>StopTool()</code>, it is:<ul>
<li>Passed to <code>BrushRenderer</code> to generate a mesh.</li>
<li>Serialized into a <code>BrushContainer</code>.</li>
<li>Sent to the server (if connected).</li>
<li>Destroyed locally (the server version will be redrawn).</li>
</ul>
</li>
<li>The object is named <code>"Brush"</code> and added to the <code>"Brush Tool"</code> parent object.</li>
<li>Uses layer 7 for brush strokes (<code>Settings.LAYER_BRUSH</code>).</li>
<li><code>Regenerate()</code> is used to rebuild the stroke from a <code>BrushContainer</code>, typically on scene load or from server data.</li>
</ul>
<p>We will elaborate more on <code>BrushRenderer</code> and <code>BrushContainer</code> later.</p>
<hr />
<h3 id="line-tool"><strong>Line Tool</strong></h3>
<p>LineTool is nearly identical in structure to BrushTool, but is used to create <strong>a single straight line</strong> between pinch start and release points.</p>
<p><strong>Key differences from BrushTool:</strong></p>
<ul>
<li>The <code>meshPoints</code> list always contains just two positions: start and end.</li>
<li>No distance tracking or granularity needed — it simply connects the two points.</li>
<li>The mesh is generated without smoothing (<code>loop: false</code>, <code>smoothnessThreshold: -1</code>).</li>
<li>The object is named <code>"Line"</code> and added to the <code>"Line Tool"</code> parent object.</li>
<li>Uses a different layer (typically <code>Settings.LAYER_LINE</code>).</li>
<li>Regeneration follows the same container-based pattern (<code>LineContainer</code>), and restores the line’s mesh and transform.</li>
</ul>
<hr />
<h3 id="text-tool"><strong>Text Tool</strong></h3>
<p>TextTool allows users to place a block of 3D text in space by pinching and dragging to set size and position.</p>
<p><strong>Key implementation details:</strong></p>
<ul>
<li>Text content is pulled from <code>ButtonManager.Instance.textToolField.text</code>, or falls back to <code>defaultText</code>.</li>
<li>Text is rendered using a <code>TextMeshPro</code> component, which supports dynamic font sizing.</li>
<li>A transparent outline is created using a child GameObject from <code>OutlineGenerator.GenerateOutline()</code>.</li>
<li>The final text is wrapped in a box collider and registered as interactable.</li>
<li>Objects are given layer 10 (<code>Settings.LAYER_TEXT</code>) and parented under <code>"Text Tool"</code>.</li>
</ul>
<hr />
<h3 id="image-tool"><strong>Image Tool</strong></h3>
<p>ImageTool fetches 2D images from Unsplash using their API and lets users place them in the scene.</p>
<p><strong>Unique logic:</strong></p>
<ul>
<li>Uses <code>UnityWebRequest</code> to retrieve image data asynchronously.</li>
<li>Displays a scrollable UI list of thumbnails, each of which can be clicked to place an image.</li>
<li>Placed images are interactive, with <code>ObjectManipulator</code> and drag-handles enabled.</li>
<li>Textures are applied directly to a <code>RawImage</code> or Unity <code>Renderer</code>.</li>
</ul>
<p><strong>Note:</strong> This tool does not use pinch gestures or <code>StartTool/StopTool</code> like the others. It’s UI-driven.</p>
<hr />
<h3 id="object-tool"><strong>Object Tool</strong></h3>
<p>ObjectTool lets users choose from a predefined list of 3D prefabs and place them into the AR scene.</p>
<p><strong>Implementation notes:</strong></p>
<ul>
<li>Prefabs are listed in the <code>localObjects</code> list and displayed using a scroll-down UI menu.</li>
<li>Selecting an object instantiates it in front of the user and enables manipulation (<code>ObjectManipulator</code>, <code>BoundsControl</code>).</li>
<li>Objects are named according to their prefab and not automatically serialized or networked (unless handled elsewhere).</li>
<li>The UI must be manually hooked up in the Unity Inspector (i.e. assign the scroll menu, object prefab, etc.).</li>
</ul>
<hr />
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>A serialized private variable shows it's value on the Unity Inspector. You can easily change the value like public variable. But nothign can access this value from another script or places.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Vector3 is a data structure used to represent a point in 3D space using 3 float values: x, y, and z. The question mark after indicates that the variable can have a value of null.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>One of the most fundamental components in Unity game design. Its a component that defines an objects <strong>position, rotation, and scale</strong>.  It also manages parent-child hierarchy, where children move, scale, and rotate relative to their parent.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>A <code>MonoBehaviour</code> script is the <strong>base class</strong> that all scripts inherit from if you want them to: be attached to GameObjects and respond to Unity's <strong>lifecycle events</strong> like <code>Start()</code>, <code>Update()</code>, <code>Awake()</code>, etc. In the specific case of <code>BrushTool</code>, it becomes a unity component you can attach to objects in the scene.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p><code>enabled</code> is a built-in property from <code>MonoBehaviour</code> that determines whether Unity will call runtime methods like <code>Update()</code> for this script. In tool scripts like <code>BrushTool</code>, <code>enabled</code> is used to: Start tracking input when <code>StartTool()</code> is called (<code>enabled = true</code>) and Stop tracking and finalizing the stroke when <code>StopTool()</code> is called (<code>enabled = false</code>). You don’t need to declare this variable — it comes from Unity’s MonoBehaviour system.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tracking", "navigation.top"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>